-- Kuni Hub Egg ESP + Pet Randomizer GUI
-- Place this in a LocalScript under StarterPlayerScripts or StarterGui

local player = game.Players.LocalPlayer
local runService = game:GetService("RunService")

local petTable = {
    ["Common Egg"] = { "Dog", "Bunny", "Golden Lab" },
    ["Uncommon Egg"] = { "Chicken", "Black Bunny", "Cat", "Deer" },
    ["Rare Egg"] = { "Pig", "Monkey", "Rooster", "Orange Tabby", "Spotted Deer" },
    ["Legendary Egg"] = { "Cow", "Polar Bear", "Sea Otter", "Turtle", "Silver Monkey" },
    ["Mythical Egg"] = { "Grey Mouse", "Brown Mouse", "Squirrel", "Red Giant Ant", "Red Fox" },
    ["Bug Egg"] = { "Snail", "Caterpillar", "Giant Ant", "Praying Mantis", "Dragonfly" },
    ["Night Egg"] = { "Frog", "Hedgehog", "Mole", "Echo Frog", "Night Owl", "Blood Owl", "Raccoon" },
    ["Bee Egg"] = { "Bee", "Honey Bee", "Bear Bee", "Petal Bee", "Queen Bee", "Disco Bee" },
    ["Anti Bee Egg"] = { "Wasp", "Moth", "Tarantula Hawk", "Disco Bee" },
    ["Oasis Egg"] = { "Meerkat", "Sand Snake", "Axolotl", "Fennec Fox" },
    ["Paradise Egg"] = { "Ostrich", "Peacock", "Capybara" },
    ["Dinosaur Egg"] = { "Raptor", "Triceratops", "Stegosaurus", "T‑Rex" },
    ["Primal Egg"] = { "Parasaurolophus", "Iguanodon", "Pachycephalosaurus" },
}

local function isRare(pet)
    local lowerPet = string.lower(pet)
    return lowerPet:find("divine") or lowerPet:find("fox") or lowerPet:find("dragonfly") or
           lowerPet:find("queen") or lowerPet:find("disco") or lowerPet:find("owl") or
           lowerPet:find("raccoon") or lowerPet:find("t‑rex")
end

-- GUI Setup
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "KuniHubGUI"

local mainFrame = Instance.new("Frame", gui)
mainFrame.Size = UDim2.new(0, 300, 0, 180)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -90)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 0

local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundColor3 = Color3.fromRGB(30, 100, 30)
title.Text = "Kuni Hub - Egg ESP"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = Enum.Font.FredokaOne
title.TextSize = 20
title.BorderSizePixel = 0

local manualBtn = Instance.new("TextButton", mainFrame)
manualBtn.Size = UDim2.new(0.45, 0, 0, 40)
manualBtn.Position = UDim2.new(0.05, 0, 0.4, 0)
manualBtn.BackgroundColor3 = Color3.fromRGB(65, 90, 130)
manualBtn.Text = "Reroll"
manualBtn.TextColor3 = Color3.new(1, 1, 1)
manualBtn.Font = Enum.Font.FredokaOne
manualBtn.TextSize = 18

local autoBtn = Instance.new("TextButton", mainFrame)
autoBtn.Size = UDim2.new(0.45, 0, 0, 40)
autoBtn.Position = UDim2.new(0.5, 0, 0.4, 0)
autoBtn.BackgroundColor3 = Color3.fromRGB(90, 65, 130)
autoBtn.Text = "Auto Random"
autoBtn.TextColor3 = Color3.new(1, 1, 1)
autoBtn.Font = Enum.Font.FredokaOne
autoBtn.TextSize = 18

local resultLabel = Instance.new("TextLabel", mainFrame)
resultLabel.Size = UDim2.new(1, 0, 0, 30)
resultLabel.Position = UDim2.new(0, 0, 0.75, 0)
resultLabel.BackgroundTransparency = 1
resultLabel.TextColor3 = Color3.new(1, 1, 1)
resultLabel.Text = "Pet:"
resultLabel.Font = Enum.Font.FredokaOne
resultLabel.TextSize = 18

-- Logic
local function pickRandomPet()
    local allPets = {}
    for _, pets in pairs(petTable) do
        for _, pet in ipairs(pets) do
            table.insert(allPets, pet)
        end
    end
    return allPets[math.random(1, #allPets)]
end

local function updateESP()
    for _, egg in ipairs(workspace:GetDescendants()) do
        if egg:IsA("Model") and petTable[egg.Name] then
            if not egg:FindFirstChild("ESP") then
                local billboard = Instance.new("BillboardGui", egg)
                billboard.Name = "ESP"
                billboard.Size = UDim2.new(0, 100, 0, 40)
                billboard.Adornee = egg:FindFirstChildWhichIsA("BasePart")
                billboard.AlwaysOnTop = true

                local label = Instance.new("TextLabel", billboard)
                label.Size = UDim2.new(1, 0, 1, 0)
                label.BackgroundTransparency = 1
                label.TextColor3 = Color3.fromRGB(0, 255, 0)
                label.Font = Enum.Font.FredokaOne
                label.TextScaled = true
                label.Text = ""
            end
        end
    end
end

local function setESPText(text, rare)
    for _, egg in ipairs(workspace:GetDescendants()) do
        if egg:IsA("Model") and egg:FindFirstChild("ESP") then
            local label = egg.ESP:FindFirstChildWhichIsA("TextLabel")
            if label then
                label.Text = text
                label.TextColor3 = rare and Color3.fromRGB(0, 255, 0) or Color3.new(1, 1, 1)
            end
        end
    end
end

-- Button Logic
local debounce = false
manualBtn.MouseButton1Click:Connect(function()
    if debounce then return end
    debounce = true
    local pet = pickRandomPet()
    local rare = isRare(pet)
    resultLabel.Text = "Pet: " .. pet
    setESPText(pet, rare)
    wait(1)
    debounce = false
end)

local autoRunning = false
autoBtn.MouseButton1Click:Connect(function()
    if autoRunning then return end
    autoRunning = true
    resultLabel.Text = "Randomizing..."
    local start = tick()
    while tick() - start < 40 do
        local pet = pickRandomPet()
        local rare = isRare(pet)
        resultLabel.Text = "Pet: " .. pet
        setESPText(pet, rare)
        wait(1)
    end
    -- Force Rare
    local rarePets = {}
    for _, pets in pairs(petTable) do
        for _, pet in ipairs(pets) do
            if isRare(pet) then
                table.insert(rarePets, pet)
            end
        end
    end
    local finalPet = rarePets[math.random(1, #rarePets)]
    resultLabel.Text = "Found Rare Pet: " .. finalPet
    setESPText(finalPet, true)
    autoRunning = false
end)

updateESP()

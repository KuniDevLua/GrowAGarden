--// SERVICES
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

--// VARIABLES
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

--// REMOVE OLD GUI IF EXISTS
if PlayerGui:FindFirstChild("KuniHub") then
	PlayerGui.KuniHub:Destroy()
end

--// GUI CREATION
local KuniHub = Instance.new("ScreenGui", PlayerGui)
KuniHub.Name = "KuniHub"
KuniHub.ResetOnSpawn = false

--// LOADING SCREEN
local loadingFrame = Instance.new("Frame", KuniHub)
loadingFrame.Size = UDim2.new(0, 300, 0, 100)
loadingFrame.Position = UDim2.new(0.5, -150, 0.5, -50)
loadingFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
loadingFrame.BorderSizePixel = 0
loadingFrame.Visible = true

local loadingLabel = Instance.new("TextLabel", loadingFrame)
loadingLabel.Size = UDim2.new(1, 0, 0.6, 0)
loadingLabel.Position = UDim2.new(0, 0, 0, 0)
loadingLabel.BackgroundTransparency = 1
loadingLabel.Text = "Kuni Hub"
loadingLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingLabel.Font = Enum.Font.FredokaOne
loadingLabel.TextSize = 28

local loadingBar = Instance.new("Frame", loadingFrame)
loadingBar.Size = UDim2.new(0, 0, 0.2, 0)
loadingBar.Position = UDim2.new(0, 0, 0.8, 0)
loadingBar.BackgroundColor3 = Color3.fromRGB(90, 180, 255)
loadingBar.BorderSizePixel = 0

--// LOADING ANIMATION
TweenService:Create(loadingBar, TweenInfo.new(5), {Size = UDim2.new(1, 0, 0.2, 0)}):Play()

--// MAIN FRAME
local mainFrame = Instance.new("Frame", KuniHub)
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 500, 0, 400)
mainFrame.Position = UDim2.new(0.5, -250, 0.5, -200)
mainFrame.BackgroundColor3 = Color3.fromRGB(245, 245, 245)
mainFrame.Visible = false
mainFrame.BorderSizePixel = 0

-- Rounded corner
local UICorner = Instance.new("UICorner", mainFrame)
UICorner.CornerRadius = UDim.new(0, 12)

--// LOADING COMPLETED (Show GUI after 5 seconds)
task.delay(5, function()
	loadingFrame:Destroy()
	mainFrame.Visible = true
end)

--// SIDEBAR
local sidebar = Instance.new("Frame", mainFrame)
sidebar.Size = UDim2.new(0, 130, 1, 0)
sidebar.Position = UDim2.new(0, 0, 0, 0)
sidebar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
sidebar.BorderSizePixel = 0

local sidebarCorner = Instance.new("UICorner", sidebar)
sidebarCorner.CornerRadius = UDim.new(0, 0)

-- UIListLayout for tab buttons
local tabList = Instance.new("UIListLayout", sidebar)
tabList.Padding = UDim.new(0, 5)
tabList.FillDirection = Enum.FillDirection.Vertical
tabList.SortOrder = Enum.SortOrder.LayoutOrder
tabList.VerticalAlignment = Enum.VerticalAlignment.Top

--// MAIN CONTENT FRAME
local contentFrame = Instance.new("Frame", mainFrame)
contentFrame.Name = "ContentFrame"
contentFrame.Position = UDim2.new(0, 130, 0, 0)
contentFrame.Size = UDim2.new(1, -130, 1, 0)
contentFrame.BackgroundColor3 = Color3.fromRGB(240, 240, 240)
contentFrame.BorderSizePixel = 0

local contentCorner = Instance.new("UICorner", contentFrame)
contentCorner.CornerRadius = UDim.new(0, 0)

-- Function to create tabs
local function createTab(name)
	local button = Instance.new("TextButton", sidebar)
	button.Size = UDim2.new(1, -10, 0, 40)
	button.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
	button.Text = name
	button.Font = Enum.Font.FredokaOne
	button.TextSize = 18
	button.TextColor3 = Color3.fromRGB(200, 230, 255)
	button.AutoButtonColor = true

	local buttonCorner = Instance.new("UICorner", button)
	buttonCorner.CornerRadius = UDim.new(0, 6)

	return button
end

-- Create actual tabs
local petRandomizerTab = createTab("Pet Randomizer")
local petAgeTab = createTab("Age Changer")
local mutationTab = createTab("Mutation Finder")

-- TAB CONTENT HOLDERS
local function createSectionFrame(name)
	local section = Instance.new("Frame", contentFrame)
	section.Name = name
	section.Size = UDim2.new(1, 0, 1, 0)
	section.BackgroundTransparency = 1
	section.Visible = false
	return section
end

local petRandomizerSection = createSectionFrame("PetRandomizer")
local petAgeSection = createSectionFrame("AgeChanger")
local mutationSection = createSectionFrame("MutationFinder")

-- Function to switch tabs
local function showSection(section)
	for _, child in ipairs(contentFrame:GetChildren()) do
		if child:IsA("Frame") then
			child.Visible = false
		end
	end
	section.Visible = true
end

-- Tab button logic
petRandomizerTab.MouseButton1Click:Connect(function()
	showSection(petRandomizerSection)
end)
petAgeTab.MouseButton1Click:Connect(function()
	showSection(petAgeSection)
end)
mutationTab.MouseButton1Click:Connect(function()
	showSection(mutationSection)
end)

-- Show default tab
showSection(petRandomizerSection)

-- Pet Table (Eggs and Pets)
local petTable = {
	Common = {"Dog", "Bunny", "Golden Lab"},
	Uncommon = {"Chicken", "Black Bunny", "Cat", "Deer"},
	Rare = {"Pig", "Monkey", "Rooster", "Orange Tabby", "Spotted Deer"},
	Legendary = {"Cow", "Polar Bear", "Sea Otter", "Turtle", "Silver Monkey"},
	Mythical = {"Grey Mouse", "Brown Mouse", "Squirrel", "Red Giant Ant"},
	Bug = {"Snail", "Caterpillar", "Giant Ant", "Praying Mantis"},
	Night = {"Frog", "Hedgehog", "Mole", "Echo Frog", "Night Owl"},
	Bee = {"Bee", "Honey Bee", "Bear Bee", "Petal Bee"},
	["Anti Bee"] = {"Wasp", "Moth", "Tarantula Hawk"},
	Oasis = {"Meerkat", "Sand Snake", "Axolotl"},
	Paradise = {"Ostrich", "Peacock", "Capybara"},
	Dinosaur = {"Raptor", "Triceratops", "Stegosaurus"},
	Primal = {"Parasaurolophus", "Iguanodon", "Pachycephalosaurus"},
}

-- Create UI inside petRandomizerSection
local label = Instance.new("TextLabel", petRandomizerSection)
label.Size = UDim2.new(1, 0, 0, 40)
label.Position = UDim2.new(0, 0, 0, 10)
label.Text = "PET RANDOMIZER"
label.TextSize = 24
label.Font = Enum.Font.FredokaOne
label.TextColor3 = Color3.fromRGB(50, 50, 50)
label.BackgroundTransparency = 1

local autoButton = Instance.new("TextButton", petRandomizerSection)
autoButton.Size = UDim2.new(0, 180, 0, 40)
autoButton.Position = UDim2.new(0, 20, 0, 60)
autoButton.BackgroundColor3 = Color3.fromRGB(70, 100, 180)
autoButton.Font = Enum.Font.FredokaOne
autoButton.TextColor3 = Color3.fromRGB(255, 255, 255)
autoButton.TextSize = 18
autoButton.Text = "Auto Randomizer"

local manualButton = autoButton:Clone()
manualButton.Position = UDim2.new(0, 220, 0, 60)
manualButton.Text = "Manual Reroll"
manualButton.Parent = petRandomizerSection

local espLabel = Instance.new("TextLabel", petRandomizerSection)
espLabel.Size = UDim2.new(1, -40, 0, 30)
espLabel.Position = UDim2.new(0, 20, 0, 110)
espLabel.BackgroundTransparency = 1
espLabel.Text = "Selected Pet: None"
espLabel.TextColor3 = Color3.fromRGB(40, 40, 40)
espLabel.Font = Enum.Font.FredokaOne
espLabel.TextSize = 20

-- Logic
local isAutoRunning = false
local lastManualClick = 0

-- Function to pick random pet
local function getRandomPet()
	local allPets = {}
	for _, list in pairs(petTable) do
		for _, pet in ipairs(list) do
			table.insert(allPets, pet)
		end
	end
	return allPets[math.random(1, #allPets)]
end

-- Auto Random Logic
autoButton.MouseButton1Click:Connect(function()
	if isAutoRunning then return end
	isAutoRunning = true
	autoButton.Text = "Randomizing..."
	local timer = 0
	local selectedPet = nil

	while isAutoRunning and timer < 40 do
		selectedPet = getRandomPet()
		espLabel.Text = "Selected Pet: " .. selectedPet
		wait(1)
		timer += 1
	end

	local rarePet = "Golden Lab" -- example rare pet
	espLabel.Text = "Selected Pet: " .. rarePet
	espLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
	autoButton.Text = "Found Rare Pet!"
	isAutoRunning = false
end)

-- Manual Reroll (anti-spam)
manualButton.MouseButton1Click:Connect(function()
	if tick() - lastManualClick < 1 then return end
	lastManualClick = tick()
	local selectedPet = getRandomPet()
	espLabel.Text = "Selected Pet: " .. selectedPet
	espLabel.TextColor3 = Color3.fromRGB(40, 40, 40)
end)

-- Pet Age Changer Section GUI
local ageTitle = Instance.new("TextLabel", petAgeChangerSection)
ageTitle.Size = UDim2.new(1, 0, 0, 40)
ageTitle.Position = UDim2.new(0, 0, 0, 10)
ageTitle.Text = "PET AGE CHANGER"
ageTitle.TextSize = 24
ageTitle.Font = Enum.Font.FredokaOne
ageTitle.TextColor3 = Color3.fromRGB(50, 50, 50)
ageTitle.BackgroundTransparency = 1

local ageButton = Instance.new("TextButton", petAgeChangerSection)
ageButton.Size = UDim2.new(0, 200, 0, 40)
ageButton.Position = UDim2.new(0, 20, 0, 60)
ageButton.BackgroundColor3 = Color3.fromRGB(70, 100, 180)
ageButton.Font = Enum.Font.FredokaOne
ageButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ageButton.TextSize = 18
ageButton.Text = "Set Age to 50"

local ageStatus = Instance.new("TextLabel", petAgeChangerSection)
ageStatus.Size = UDim2.new(1, -40, 0, 30)
ageStatus.Position = UDim2.new(0, 20, 0, 110)
ageStatus.BackgroundTransparency = 1
ageStatus.Text = "Status: Waiting"
ageStatus.TextColor3 = Color3.fromRGB(40, 40, 40)
ageStatus.Font = Enum.Font.FredokaOne
ageStatus.TextSize = 18

-- Function to set equipped pet age to 50
ageButton.MouseButton1Click:Connect(function()
	ageButton.Text = "Setting..."
	ageStatus.Text = "Setting Age: Please wait 3s..."
	for i = 3, 1, -1 do
		ageStatus.Text = "Setting in: " .. i
		wait(1)
	end

	local players = game:GetService("Players")
	local lp = players.LocalPlayer
	local equippedPet = lp:FindFirstChild("EquippedPet")

	if equippedPet then
		local age = equippedPet:FindFirstChild("Age")
		if age then
			age.Value = 50
			ageStatus.Text = "Status: Age set to 50!"
			ageButton.Text = "Done!"
			wait(2)
		else
			ageStatus.Text = "Error: Age property not found"
			ageButton.Text = "Set Age to 50"
		end
	else
		ageStatus.Text = "Error: No equipped pet"
		ageButton.Text = "Set Age to 50"
	end
end)

-- Pet Mutation Finder Section GUI
local mutationTitle = Instance.new("TextLabel", petMutationFinderSection)
mutationTitle.Size = UDim2.new(1, 0, 0, 40)
mutationTitle.Position = UDim2.new(0, 0, 0, 10)
mutationTitle.Text = "PET MUTATION FINDER"
mutationTitle.TextSize = 24
mutationTitle.Font = Enum.Font.FredokaOne
mutationTitle.TextColor3 = Color3.fromRGB(50, 50, 50)
mutationTitle.BackgroundTransparency = 1

-- Auto Get Ascended Button
local autoAscendButton = Instance.new("TextButton", petMutationFinderSection)
autoAscendButton.Size = UDim2.new(0, 240, 0, 40)
autoAscendButton.Position = UDim2.new(0, 20, 0, 60)
autoAscendButton.BackgroundColor3 = Color3.fromRGB(70, 100, 180)
autoAscendButton.Font = Enum.Font.FredokaOne
autoAscendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
autoAscendButton.TextSize = 18
autoAscendButton.Text = "Auto Get Ascended"

-- Mutation Reroll Button (with Anti-Spam)
local rerollButton = Instance.new("TextButton", petMutationFinderSection)
rerollButton.Size = UDim2.new(0, 240, 0, 40)
rerollButton.Position = UDim2.new(0, 20, 0, 110)
rerollButton.BackgroundColor3 = Color3.fromRGB(70, 100, 180)
rerollButton.Font = Enum.Font.FredokaOne
rerollButton.TextColor3 = Color3.fromRGB(255, 255, 255)
rerollButton.TextSize = 18
rerollButton.Text = "Mutation Reroll"

-- Status Label
local mutationStatus = Instance.new("TextLabel", petMutationFinderSection)
mutationStatus.Size = UDim2.new(1, -40, 0, 30)
mutationStatus.Position = UDim2.new(0, 20, 0, 160)
mutationStatus.BackgroundTransparency = 1
mutationStatus.Text = "Status: Waiting"
mutationStatus.TextColor3 = Color3.fromRGB(40, 40, 40)
mutationStatus.Font = Enum.Font.FredokaOne
mutationStatus.TextSize = 18

-- Logic for Auto Get Ascended
local autoRunning = false
autoAscendButton.MouseButton1Click:Connect(function()
	if autoRunning then return end
	autoRunning = true
	local elapsed = 0
	autoAscendButton.Text = "Getting Ascended..."
	mutationStatus.Text = "Randomizing Mutations..."
	while elapsed < 40 do
		wait(1)
		elapsed += 1
		local equippedPet = game.Players.LocalPlayer:FindFirstChild("EquippedPet")
		if equippedPet then
			local mutation = equippedPet:FindFirstChild("Mutation")
			if mutation then
				local randomMutation = "Common"
				local options = {"Common", "Rare", "Legendary", "Mythical"}
				randomMutation = options[math.random(1, #options)]
				mutation.Value = randomMutation
			end
		end
	end

	-- Force Ascended at 40s
	local equippedPet = game.Players.LocalPlayer:FindFirstChild("EquippedPet")
	if equippedPet then
		local mutation = equippedPet:FindFirstChild("Mutation")
		if mutation then
			mutation.Value = "Ascended"
			mutationStatus.Text = "✨ ASCENDED FOUND!"
			autoAscendButton.Text = "Found Ascended!"
		end
	end
	autoRunning = false
	wait(3)
	autoAscendButton.Text = "Auto Get Ascended"
	mutationStatus.Text = "Status: Waiting"
end)

-- Logic for Mutation Reroll (Anti-Spam)
local lastClick = 0
rerollButton.MouseButton1Click:Connect(function()
	local now = tick()
	if now - lastClick < 1 then return end
	lastClick = now

	local equippedPet = game.Players.LocalPlayer:FindFirstChild("EquippedPet")
	if equippedPet then
		local mutation = equippedPet:FindFirstChild("Mutation")
		if mutation then
			local randomMutation = "Common"
			local options = {"Common", "Rare", "Legendary", "Mythical"}
			randomMutation = options[math.random(1, #options)]
			mutation.Value = randomMutation
			mutationStatus.Text = "Mutation rerolled: " .. randomMutation
		else
			mutationStatus.Text = "Error: No Mutation value"
		end
	else
		mutationStatus.Text = "Error: No equipped pet"
	end
end)



local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
ScreenGui.Name = "KuniAgeChanger"
ScreenGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 260, 0, 160)
MainFrame.Position = UDim2.new(0.5, -130, 0.5, -80)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.Parent = ScreenGui
MainFrame.Active = true
MainFrame.Draggable = true

local UICorner = Instance.new("UICorner", MainFrame)
UICorner.CornerRadius = UDim.new(0, 10)

-- Title
local Title = Instance.new("TextLabel")
Title.Text = "Kuni Age Changer"
Title.Font = Enum.Font.FredokaOne
Title.TextSize = 22
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1, 0, 0.25, 0)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.Parent = MainFrame

-- Pet Name Label
local PetNameLabel = Instance.new("TextLabel")
PetNameLabel.Text = "Equipped Pet: Unknown"
PetNameLabel.Font = Enum.Font.FredokaOne
PetNameLabel.TextSize = 16
PetNameLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
PetNameLabel.BackgroundTransparency = 1
PetNameLabel.Size = UDim2.new(1, -20, 0.2, 0)
PetNameLabel.Position = UDim2.new(0, 10, 0.25, 0)
PetNameLabel.TextXAlignment = Enum.TextXAlignment.Left
PetNameLabel.Parent = MainFrame

-- Countdown Label
local CountdownLabel = Instance.new("TextLabel")
CountdownLabel.Text = ""
CountdownLabel.Font = Enum.Font.FredokaOne
CountdownLabel.TextSize = 16
CountdownLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
CountdownLabel.BackgroundTransparency = 1
CountdownLabel.Size = UDim2.new(1, 0, 0.2, 0)
CountdownLabel.Position = UDim2.new(0, 0, 0.7, 0)
CountdownLabel.Parent = MainFrame

-- Button
local SetAgeBtn = Instance.new("TextButton")
SetAgeBtn.Text = "Set Age to 50"
SetAgeBtn.Font = Enum.Font.FredokaOne
SetAgeBtn.TextSize = 18
SetAgeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
SetAgeBtn.Size = UDim2.new(0.8, 0, 0.2, 0)
SetAgeBtn.Position = UDim2.new(0.1, 0, 0.5, 0)
SetAgeBtn.BackgroundColor3 = Color3.fromRGB(60, 120, 60)
SetAgeBtn.Parent = MainFrame

local UICorner2 = Instance.new("UICorner", SetAgeBtn)
UICorner2.CornerRadius = UDim.new(0, 6)

-- Utility: Find equipped pet with Age IntValue
local function findEquippedPet()
	for _, obj in ipairs(Character:GetDescendants()) do
		if obj:IsA("Model") or obj:IsA("Folder") then
			local age = obj:FindFirstChild("Age")
			if age and age:IsA("IntValue") then
				return obj, age
			end
		end
	end
	return nil, nil
end

-- Update pet name when opening GUI
local function updatePetName()
	local pet, _ = findEquippedPet()
	if pet then
		PetNameLabel.Text = "Equipped Pet: " .. pet.Name
	else
		PetNameLabel.Text = "Equipped Pet: None"
	end
end
updatePetName()

-- Button click behavior
SetAgeBtn.MouseButton1Click:Connect(function()
	local pet, age = findEquippedPet()
	if pet and age then
		for i = 5, 0, -1 do
			CountdownLabel.Text = "Setting age in " .. i .. "s..."
			task.wait(1)
		end
		age.Value = 50
		CountdownLabel.Text = "Pet age set to 50!"
	else
		CountdownLabel.Text = "No valid pet with Age found!"
	end
	updatePetName()
end)

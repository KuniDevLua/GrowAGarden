local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Name = "PetWeightChanger"
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
gui.Parent = player:WaitForChild("PlayerGui")

-- Pastel colors for theme
local pastelColors = {
	Color3.fromRGB(255, 182, 193), -- light pink
	Color3.fromRGB(255, 192, 203), -- pink
	Color3.fromRGB(255, 228, 225), -- misty rose
	Color3.fromRGB(255, 239, 213), -- papaya whip
	Color3.fromRGB(255, 218, 185)  -- peach puff
}
local nextColor = 1

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 340, 0, 210)
frame.Position = UDim2.new(0.5, -170, 0.5, -105)
frame.BackgroundColor3 = Color3.fromRGB(255, 240, 245) -- soft pastel pink
frame.Active = true
frame.Draggable = true
frame.Name = "PetWeightFrame"
frame.Parent = gui

Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 16)

-- Title
local title = Instance.new("TextLabel", frame)
title.Text = "ðŸ§¬ Pet Weight Changer"
title.Font = Enum.Font.FredokaOne
title.TextSize = 18
title.TextColor3 = pastelColors[nextColor]
nextColor = nextColor + 1
if nextColor > #pastelColors then nextColor = 1 end
title.BackgroundTransparency = 1
title.Size = UDim2.new(1, 0, 0, 28)
title.Position = UDim2.new(0, 0, 0, 6)

-- Pet info label
local petInfoLabel = Instance.new("TextLabel", frame)
petInfoLabel.Size = UDim2.new(0.9, 0, 0, 20)
petInfoLabel.Position = UDim2.new(0.05, 0, 0, 45)
petInfoLabel.BackgroundTransparency = 1
petInfoLabel.Font = Enum.Font.FredokaOne
petInfoLabel.TextSize = 14
petInfoLabel.TextColor3 = Color3.fromRGB(160, 50, 90)
petInfoLabel.Text = "(Pet/Tool Equipped)"
petInfoLabel.TextXAlignment = Enum.TextXAlignment.Center

-- Input box for weight
local inputBox = Instance.new("TextBox", frame)
inputBox.Size = UDim2.new(0.8, 0, 0, 34)
inputBox.Position = UDim2.new(0.1, 0, 0, 70)
inputBox.PlaceholderText = "Add Weight"
inputBox.Font = Enum.Font.FredokaOne
inputBox.TextSize = 14
inputBox.TextColor3 = Color3.fromRGB(80, 40, 60)
inputBox.BackgroundColor3 = pastelColors[3]
Instance.new("UICorner", inputBox)

-- Apply Button
local applyBtn = Instance.new("TextButton", frame)
applyBtn.Size = UDim2.new(0.8, 0, 0, 34)
applyBtn.Position = UDim2.new(0.1, 0, 0, 110)
applyBtn.BackgroundColor3 = pastelColors[4]
applyBtn.Text = "Apply Weight"
applyBtn.Font = Enum.Font.FredokaOne
applyBtn.TextSize = 14
applyBtn.TextColor3 = Color3.fromRGB(60, 30, 50)
Instance.new("UICorner", applyBtn)

-- Reset Button
local resetBtn = Instance.new("TextButton", frame)
resetBtn.Size = UDim2.new(0.8, 0, 0, 34)
resetBtn.Position = UDim2.new(0.1, 0, 0, 150)
resetBtn.BackgroundColor3 = pastelColors[5]
resetBtn.Text = "Reset Weight"
resetBtn.Font = Enum.Font.FredokaOne
resetBtn.TextSize = 14
resetBtn.TextColor3 = Color3.fromRGB(60, 30, 50)
Instance.new("UICorner", resetBtn)

-- Footer inside frame
local footer = Instance.new("TextLabel", frame)
footer.Size = UDim2.new(1, -20, 0, 16)
footer.Position = UDim2.new(0, 10, 1, -22)
footer.BackgroundTransparency = 1
footer.Font = Enum.Font.FredokaOne
footer.TextSize = 12
footer.TextColor3 = Color3.fromRGB(120, 60, 80)
footer.Text = "Tiktok: @yawiyawiyawiz"
footer.TextXAlignment = Enum.TextXAlignment.Center

-- Hover effect
local function hoverEffect(button, normalColor, hoverColor)
	button.MouseEnter:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = hoverColor}):Play()
	end)
	button.MouseLeave:Connect(function()
		TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = normalColor}):Play()
	end)
end
hoverEffect(applyBtn, applyBtn.BackgroundColor3, pastelColors[1])
hoverEffect(resetBtn, resetBtn.BackgroundColor3, pastelColors[2])

-- Helper: Get equipped pet/tool
local function getEquippedPetTool()
	local char = player.Character or player.CharacterAdded:Wait()
	for _, tool in pairs(char:GetChildren()) do
		if tool:IsA("Tool") then
			return tool
		end
	end
	return nil
end

-- Set pet/tool weight
local function setPetWeight(tool, weight)
	for _, obj in ipairs(tool:GetChildren()) do
		if obj:IsA("BasePart") then
			local mesh = obj:FindFirstChildOfClass("SpecialMesh")
			if mesh then
				mesh.Scale = Vector3.new(weight, weight, weight)
			else
				obj.Size = Vector3.new(weight, weight, weight)
			end
		end
	end
end

-- Update pet info label text
local function updatePetInfoLabel(text)
	petInfoLabel.Text = text
end

-- Apply Button Logic with 10-sec loading
applyBtn.MouseButton1Click:Connect(function()
	local tool = getEquippedPetTool()
	if not tool then
		updatePetInfoLabel("(No Equipped Pet/Tool detected)")
		return
	end

	local weight = tonumber(inputBox.Text)
	if not weight or weight <= 0 then
		updatePetInfoLabel("(Enter valid weight)")
		return
	end

	-- 10-second loading countdown
	for i = 10, 1, -1 do
		applyBtn.Text = "Loading " .. i .. "s"
		task.wait(1)
	end

	setPetWeight(tool, weight)
	updatePetInfoLabel("(Pet/Tool Weight Applied)")
	applyBtn.Text = "Apply Weight"
end)

-- Reset Button Logic
resetBtn.MouseButton1Click:Connect(function()
	local tool = getEquippedPetTool()
	if tool then
		setPetWeight(tool, 1)
		updatePetInfoLabel("(Pet/Tool Equipped)")
	end
end)

-- Live update pet info every 0.5 sec
task.spawn(function()
	while true do
		local tool = getEquippedPetTool()
		if tool then
			updatePetInfoLabel("(Pet/Tool Equipped)")
		else
			updatePetInfoLabel("(No Equipped Pet/Tool detected)")
		end
		task.wait(0.5)
	end
end)
